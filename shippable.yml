language: node_js

node_js:
    - 5.5.0

install:
    - npm install -g npm
    - npm install

env:
    - XUNIT_FILE=shippable/testresults/result.xml

before_script:
    - echo "export const API_URL = 'http://localhost:5000/api/v0';" > ./src/backend_url.js
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage

script:
    - npm test

after_script:
    - npm run coverage
